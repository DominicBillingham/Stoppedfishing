@model AspNetCore.Data.Models.Meeting

@{
    var meetingLink = "https://localhost:44349/Meeting/MeetingDetails/" + Model.Id;
    var inviteLink = "https://localhost:44349/Home/Join/" + Model.Id;
}


<a href="@inviteLink">

    <h1 class="fw-bold">@Model.Name - Click to join</h1>

</a>


<p class="mb-0">@meetingLink</p>
<p class="smalltext">Share this link with your friends so they can join in the fun</p>

<h2 class="mb-0">Users</h2>
@foreach (var user in Model.Users)
{
    <span>@user.UserName, </span>
}

<h2 class="mb-0">Possible Meeting Times</h2>
<span id="MeetingTimeText"></span>

@section Scripts {

    <script>

        var meetingId = '@Html.Raw(Model.Id)';

        $.ajax({
            url: "/Meeting/FindMeetingTime/" + meetingId

        }).done(function (data) {

            console.log(data);
            var tempString = "";

            data.forEach(function (item) {
                tempString = tempString + item.Day + " - " + item.SimpleBlock + ", ";
            })

            $("#MeetingTimeText").text(tempString);


        });

    </script>
}